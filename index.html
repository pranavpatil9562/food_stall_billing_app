<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Food Stall Billing</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="container">
 

    <div class="header-with-logos-vertical">
  <img src="images/logo1.jpg" alt="Left Logo" class="logo-vertical">
  <div class="title-block">
    <h1>Food Stall Billing Application</h1>
    <h3 class="tagline">A SAAS Product by Tech Innovators!</h3>
  </div>
  <img src="images/logo2.jpg" alt="Right Logo" class="logo-vertical">
</div>

   <div id="login-section" class="login-form">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Enter Username" onkeydown="handleEnter(event)" />
<input type="password" id="password" placeholder="Enter Password" onkeydown="handleEnter(event)" />
  <div class="login-buttons">
    <button onclick="login()">Login</button>
    <button onclick="register()">Register</button>
  </div>
</div>
    
    <div id="app-section" style="display:none;">
      <!-- <div class="top-bar">
        <span id="user-display"></span>
        <button onclick="logout()">Logout</button>
      </div> -->

      <div class="top-bar">
  <span id="user-display"></span>
  <div class="top-bar-actions">
    <button class="small-button" onclick="logout()">Logout</button>

  </div>
</div>
      <h2>Menu</h2>
      <input type="text" id="search-bar" placeholder="Search menu..." oninput="filterMenu()" />
      
      <div id="menu"></div>
      <h2>Selected Items</h2>
      <table id="bill-table">
       <thead>
  <tr>
    <th>Item</th>
    <th>Qty</th>
    <th>Rate</th>
    <th>Total</th>
  </tr>
</thead>
        <tbody></tbody>
      </table>
      <div id="total-display">Total: â‚¹0</div>
      <!-- Always-visible print button -->
<div class="print-button-container">
  <button onclick="prepareAndPrint()">ğŸ–¨ï¸ Print Bill</button>
</div>

<div id="dashboard" class="dashboard-box">
  <h2>ğŸ“Š Sales Dashboard</h2>
   <button onclick="showDashboard()">ğŸ“Š Load Dashboard</button>
  <div class="dashboard-flex">
    <!-- Metrics cards -->
    <div class="dashboard-metrics">
      <div class="card card-green">
        <h3>ğŸ’° Total Sales</h3>
        <p id="dash-total-sales">â‚¹0</p>
      </div>
      <div class="card card-orange">
        <h3>ğŸ“¦ Total Quantity</h3>
        <p id="dash-total-qty">0</p>
      </div>
      <div class="card card-blue">
        <h3>ğŸ§¾ Bills Made</h3>
        <p id="dash-total-bills">0</p>
      </div>
    </div>
    <!-- Pie chart beside metrics -->
    <div class="dashboard-chart">
      <canvas id="salesChart" width="300" height="300"></canvas>
    </div>
  </div>

</div> 
    <!-- Settings togle -->
<div class="settings-wrapper">
  <button onclick="toggleSettings()">âš™ï¸ Settings</button>
  <div id="settings-panel" style="display:none; margin-top: 10px;">
    <div class="report-section">
      <label>ğŸ—“ Export Sales Report:</label>
      <select id="report-range">
        <option value="today">Today</option>
        <option value="last7">Last 7 Days</option>
        <option value="custom">Custom Range</option>
      </select>
      <input type="date" id="start-date" style="display:none;">
      <input type="date" id="end-date" style="display:none;">
      <button onclick="exportSalesToPDFRange()">ğŸ“„ Export PDF</button>
    </div>
   
    
    <button onclick="disconnectPrinter()">ğŸ”Œ Disconnect Printer</button>
      <button id="menu-manage-btn" onclick="toggleMenuManager()">ğŸ½ï¸ Manage Menu</button>
<div id="menu-manager" style="display: none; border: 1px solid #ccc; padding: 10px; background: #f8f8f8;">
  <h3>Menu Manager</h3>
  <table id="menu-item-table" border="1" cellpadding="5" cellspacing="0">
    <thead>
      <tr>
        <th>Item</th>
        <th>Price (â‚¹)</th>
        <th>Image</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <h4>Add New Item</h4>
<input type="text" id="new-item-name" placeholder="Item name" />
<input type="number" id="new-item-price" placeholder="Price" />
<input type="file" id="new-item-image" accept="image/*" capture="environment" />
<br>
<img id="image-preview" src="" alt="Preview" style="display:none; width:60px; height:50px; margin-top:5px;" />
<br>
<button onclick="addNewMenuItem()">Add Item</button>
</div>
    

    <button onclick="clearAllBills()" class="clear-button">ğŸ—‘ï¸ Clear All Bills</button>
  </div>
</div>
 
    </div>
     
  </div>
   
   <!-- QZ Tray for desktop rawâ€‘print -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qz-tray/2.1.0/qz-tray.js"></script>
  <script src="libs/chart.min.js"></script>
  <script src="libs/FileSaver.js"></script>
  <script src="app.js"></script>
  <script src="app1.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/webbluetoothreceiptprinter/dist/index.umd.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
